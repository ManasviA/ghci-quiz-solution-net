<div class="container-fluid">
	<toaster-container [toasterconfig]="toasterConfig"></toaster-container>
	<div *ngIf="quiz" class="panel panel-info">
		<div class="panel-heading">
			<!-- <div>
				<h3 class="panel-title">Questions</h3>
			</div> -->
			<div>
				<div class="col-md-3">{{quiz.id}}</div>
				<div class="col-md-3">{{quiz.description}}</div>
				<div class="col-md-2">{{quiz.level}}</div>
				<div class="col-md-2">{{quiz.timeoutInterval}}</div>
			</div>
			<div class="panel-title">Questions
				<a [routerLink]="['/quizs']" class="glyphicon glyphicon-home"></a>
			</div>
			<h3></h3>
		</div>
		<div class="panel-body">
			<div class="row">
				<div>
					<div class="col-md-2">Id</div>
					<div class="col-md-2">Desc</div>
					<div class="col-md-1">OptionType</div>
					<div class="col-md-1">Complexity</div>
					<div class="col-md-3">Options</div>
					<div class="col-md-3"><button class="btn btn-primary btn-sm" (click)="addNewQuestion()">Add New Question</button></div>
				</div>
			</div>

			<div class="question-row">
				<div class="row" *ngFor="let question of quiz.Questions">
					<div class="col-md-2" style="padding-right:0px">
						<label>{{question.id}}</label>
					</div>
					<div class="col-md-2">
						<textarea type="text" [(ngModel)]="question.description"></textarea>
					</div>
					<div class="col-md-1">
						<select [(ngModel)]="question.optionType">
							<option *ngFor="let op of OPTION_TYPE">{{op}}</option>
						</select>
					</div>
					<div class="col-md-1">
						<select [(ngModel)]="question.complexity">
							<option *ngFor="let op of QUESTION_COMPLEXITITES">{{op}}</option>
						</select>
					</div>
					<div class="col-md-3">
						<div class="option-row">
							<div style="padding-left:0px; color:#2f3133" class="row" 
								*ngFor="let option of question.QuizOptions; let i = index" [attr.data-index]="i">
								<div class="col-md-6">
									<input type="text" [(ngModel)]="option.description" />
								</div>
								<div class="col-md-2">
									<select [(ngModel)]="option.isCorrect">
										<option *ngFor="let op of OPTION_FLAG">{{op}}</option>
									</select>
								</div>
								<div class="col-md-4" style="color:#df691a">
									<span style="cursor: pointer" class="glyphicon glyphicon-minus" 
										(click)="removeQuizOption(question, i)"></span>
									<span style="cursor: pointer" class="glyphicon glyphicon-plus" 
										(click)="addQuizOption(question, i)"></span>
								</div>
							</div>
						</div>
						<!-- <button class="btn btn-primary btn-sm" style="width:120px" (click)="showOptions(question)">Show Options ({{question?.options?.length}})</button>
						<button class="btn btn-primary btn-sm" (click)="addNewOption(question)">Add New Option</button>						 -->
					</div>
					<div class="col-md-3">
						<button class="btn btn-default btn-sm" (click)="updateQuestion(question)">Update Question</button>
						<button class="btn btn-default btn-sm" (click)="deleteQuestion(question)">Delete Question</button>
						<!-- <a [routerLink]="['/questions', quiz._id]" class="btn btn-default btn-sm">Show Options ({{quiz.questions?.options?.length}})</a> -->
					</div>

				</div>
			</div>

			<!-- <div class="row">
				<div class="panel-heading">
					<div class="panel-title">Options</div>
				</div>
			</div>

			<div *ngIf="selectedQuestion" class="row">
				<div *ngFor="let option of selectedQuestion.QuizOptions">
					<div class="col-md-2">
						<label>{{option.id}}</label>
					</div>
					<div class="col-md-4">
						<input type="text" [(ngModel)]="option.description"/>
					</div>
					<div class="col-md-2">
						<input type="text" [(ngModel)]="option.isCorrect"/>
					</div>
					<div class="col-md-4">
						<button class="btn btn-default btn-sm" (click)="updateOption(selectedQuestion, option)">Update Option</button>
						<button class="btn btn-default btn-sm" (click)="deleteOption(selectedQuestion, option)">Delete Option</button>
					</div>
				</div>
			</div>	 -->
		</div>
	</div>
</div>